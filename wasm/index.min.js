"use strict";var resvg=(()=>{var B=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var C=(e,t)=>{for(var n in t)B(e,n,{get:t[n],enumerable:!0})},F=(e,t,n,_)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of U(t))!M.call(e,i)&&i!==n&&B(e,i,{get:()=>t[i],enumerable:!(_=j(t,i))||_.enumerable});return e};var L=e=>F(B({},"__esModule",{value:!0}),e);var G={};C(G,{Resvg:()=>V,initWasm:()=>H});var r,f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);var l=f.length;function w(e){l===f.length&&f.push(f.length+1);let t=l;return l=f[t],f[t]=e,t}function g(e){return f[e]}var y=0,u=null;function v(){return(u===null||u.byteLength===0)&&(u=new Uint8Array(r.memory.buffer)),u}var x=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},z=typeof x.encodeInto=="function"?function(e,t){return x.encodeInto(e,t)}:function(e,t){let n=x.encode(e);return t.set(n),{read:e.length,written:n.length}};function W(e,t,n){if(n===void 0){let c=x.encode(e),d=t(c.length,1)>>>0;return v().subarray(d,d+c.length).set(c),y=c.length,d}let _=e.length,i=t(_,1)>>>0,a=v(),s=0;for(;s<_;s++){let c=e.charCodeAt(s);if(c>127)break;a[i+s]=c}if(s!==_){s!==0&&(e=e.slice(s)),i=n(i,_,_=s+e.length*3,1)>>>0;let c=v().subarray(i+s,i+_),d=z(e,c);s+=d.written}return y=s,i}function k(e){return e==null}var p=null;function o(){return(p===null||p.byteLength===0)&&(p=new Int32Array(r.memory.buffer)),p}var T=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&T.decode();function A(e,t){return e=e>>>0,T.decode(v().subarray(e,e+t))}function D(e){e<132||(f[e]=l,l=e)}function b(e){let t=g(e);return D(e),t}function P(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}var h=class e{static __wrap(t){t=t>>>0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_bbox_free(t)}get x(){return r.__wbg_get_bbox_x(this.__wbg_ptr)}set x(t){r.__wbg_set_bbox_x(this.__wbg_ptr,t)}get y(){return r.__wbg_get_bbox_y(this.__wbg_ptr)}set y(t){r.__wbg_set_bbox_y(this.__wbg_ptr,t)}get width(){return r.__wbg_get_bbox_width(this.__wbg_ptr)}set width(t){r.__wbg_set_bbox_width(this.__wbg_ptr,t)}get height(){return r.__wbg_get_bbox_height(this.__wbg_ptr)}set height(t){r.__wbg_set_bbox_height(this.__wbg_ptr,t)}},I=class e{static __wrap(t){t=t>>>0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_renderedimage_free(t)}get width(){return r.renderedimage_width(this.__wbg_ptr)>>>0}get height(){return r.renderedimage_height(this.__wbg_ptr)>>>0}asPng(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.renderedimage_asPng(i,this.__wbg_ptr);var t=o()[i/4+0],n=o()[i/4+1],_=o()[i/4+2];if(_)throw b(n);return b(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}get pixels(){let t=r.renderedimage_pixels(this.__wbg_ptr);return b(t)}},O=class{__destroy_into_raw(){let t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){let t=this.__destroy_into_raw();r.__wbg_resvg_free(t)}constructor(t,n,_){try{let m=r.__wbindgen_add_to_stack_pointer(-16);var i=k(n)?0:W(n,r.__wbindgen_export_0,r.__wbindgen_export_1),a=y;r.resvg_new(m,w(t),i,a,k(_)?0:w(_));var s=o()[m/4+0],c=o()[m/4+1],d=o()[m/4+2];if(d)throw b(c);return this.__wbg_ptr=s>>>0,this}finally{r.__wbindgen_add_to_stack_pointer(16)}}get width(){return r.resvg_width(this.__wbg_ptr)}get height(){return r.resvg_height(this.__wbg_ptr)}render(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_render(i,this.__wbg_ptr);var t=o()[i/4+0],n=o()[i/4+1],_=o()[i/4+2];if(_)throw b(n);return I.__wrap(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}toString(){let t,n;try{let a=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_toString(a,this.__wbg_ptr);var _=o()[a/4+0],i=o()[a/4+1];return t=_,n=i,A(_,i)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_export_2(t,n,1)}}innerBBox(){let t=r.resvg_innerBBox(this.__wbg_ptr);return t===0?void 0:h.__wrap(t)}getBBox(){let t=r.resvg_getBBox(this.__wbg_ptr);return t===0?void 0:h.__wrap(t)}cropByBBox(t){P(t,h),r.resvg_cropByBBox(this.__wbg_ptr,t.__wbg_ptr)}imagesToResolve(){try{let i=r.__wbindgen_add_to_stack_pointer(-16);r.resvg_imagesToResolve(i,this.__wbg_ptr);var t=o()[i/4+0],n=o()[i/4+1],_=o()[i/4+2];if(_)throw b(n);return b(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}resolveImage(t,n){try{let a=r.__wbindgen_add_to_stack_pointer(-16),s=W(t,r.__wbindgen_export_0,r.__wbindgen_export_1),c=y;r.resvg_resolveImage(a,this.__wbg_ptr,s,c,w(n));var _=o()[a/4+0],i=o()[a/4+1];if(i)throw b(_)}finally{r.__wbindgen_add_to_stack_pointer(16)}}};async function N(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(_){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function q(){let e={};return e.wbg={},e.wbg.__wbindgen_memory=function(){let t=r.memory;return w(t)},e.wbg.__wbg_buffer_a448f833075b71ba=function(t){let n=g(t).buffer;return w(n)},e.wbg.__wbg_newwithbyteoffsetandlength_d0482f893617af71=function(t,n,_){let i=new Uint8Array(g(t),n>>>0,_>>>0);return w(i)},e.wbg.__wbg_new_8f67e318f15d7254=function(t){let n=new Uint8Array(g(t));return w(n)},e.wbg.__wbg_new_a64e3f2afc2cf2f8=function(t,n){let _=new Error(A(t,n));return w(_)},e.wbg.__wbg_instanceof_Uint8Array_bced6f43aed8c1aa=function(t){let n;try{n=g(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbindgen_string_get=function(t,n){let _=g(n),i=typeof _=="string"?_:void 0;var a=k(i)?0:W(i,r.__wbindgen_export_0,r.__wbindgen_export_1),s=y;o()[t/4+1]=s,o()[t/4+0]=a},e.wbg.__wbg_new_ffc6d4d085022169=function(){let t=new Array;return w(t)},e.wbg.__wbindgen_string_new=function(t,n){let _=A(t,n);return w(_)},e.wbg.__wbg_push_901f3914205d44de=function(t,n){return g(t).push(g(n))},e.wbg.__wbindgen_object_drop_ref=function(t){b(t)},e.wbg.__wbg_length_1d25fa9e4ac21ce7=function(t){return g(t).length},e.wbg.__wbg_set_2357bf09366ee480=function(t,n,_){g(t).set(g(n),_>>>0)},e.wbg.__wbindgen_throw=function(t,n){throw new Error(A(t,n))},e}function J(e,t){return r=e.exports,E.__wbindgen_wasm_module=t,p=null,u=null,r}async function E(e){if(r!==void 0)return r;typeof e>"u"&&(e=new URL("index_bg.wasm",void 0));let t=q();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:_}=await N(await e,t);return J(n,_)}var S=E;var R=!1,H=async e=>{if(R)throw new Error("Already initialized. The `initWasm()` function can be used only once.");await S(await e),R=!0},V=class extends O{constructor(e,t){if(!R)throw new Error("Wasm has not been initialized. Call `initWasm()` function.");let n=t?.font;if(n&&$(n)){let _={...t,font:{...n,fontBuffers:void 0}};super(e,JSON.stringify(_),n.fontBuffers)}else super(e,JSON.stringify(t))}};function $(e){return Object.prototype.hasOwnProperty.call(e,"fontBuffers")}return L(G);})();
